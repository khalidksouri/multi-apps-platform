'use client'

import { createContext, useContext, useState, useEffect, ReactNode } from 'react'

interface LanguageContextType {
  currentLanguage: string
  setLanguage: (lang: string) => void
  t: (key: string) => string
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

// DICTIONNAIRE COMPLET AVEC TOUTES LES LANGUES EUROPÃ‰ENNES
const translations: Record<string, Record<string, string>> = {
  // ============================================================================
  // LANGUES PRINCIPALES DÃ‰JÃ€ EXISTANTES
  // ============================================================================
  fr: { 
    'app_name': 'MathÃ©matiques pour Enfants', 'app_name_short': 'Math4Enfants', 'website': 'www.math4child.com', 'world_leader': 'Leader mondial', 'families_trust': '100k+ familles', 'app_educative': 'App Ã©ducative #1 en France', 'main_title': 'MathÃ©matiques pour Enfants', 'main_subtitle': "L'app Ã©ducative #1 pour apprendre les mathÃ©matiques en famille", 'join_families': 'Rejoignez plus de 100.000 familles qui apprennent dÃ©jÃ  !', 'start_free': 'Commencer gratuitement', 'trial_14d': '14j gratuit', 'compare_prices': 'Comparer les prix', 'plan_free': 'Gratuit', 'plan_trial_14': 'Essai 14j', 'plan_trial_7': 'Essai 7j', 'plan_family': 'Plan Famille', 'community_support': 'Support communautaire', 'offline_limited': 'Mode hors-ligne limitÃ©', 'unlimited_questions': 'Questions illimitÃ©es', 'complete_levels': '5 niveaux complets', 'child_profiles_5': '5 profils enfants', 'child_profiles_2': '2 profils', 'languages_30_complete': '30+ langues complÃ¨tes', 'languages_30': '30+ langues', 'offline_total': 'Mode hors-ligne total', 'offline_mode': 'Mode hors-ligne', 'student_profiles_30': '30 profils Ã©lÃ¨ves', 'teacher_dashboard': 'Tableau de bord enseignant', 'homework_assignment': 'Assignation de devoirs', 'detailed_reports': 'Rapports de classe dÃ©taillÃ©s', 'family_plan_all': 'Tout du plan Famille', 'free_trial_14': 'Essai 14j gratuit', 'free_trial_7': 'Essai 7j gratuit', 'free_trial_30': 'Essai 30j gratuit', 'start_free_btn': 'Commencer gratuitement', 'select_language': 'SÃ©lectionner une langue', 'new_advanced_dropdown': 'NOUVEAU DROPDOWN AVANCÃ‰', 'ultra_intelligent_search': 'RECHERCHE ULTRA-INTELLIGENTE', 'languages_found': 'langues trouvÃ©es', 'language_found': 'langue trouvÃ©e', 'for_search': 'pour', 'new_version_2024': 'NOUVELLE VERSION 2024', 'current': 'ACTUELLE', 'no_language_found': 'Aucune langue trouvÃ©e', 'try_search': 'Essayez: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },
  
  en: { 
    'app_name': 'Math for Children', 'app_name_short': 'Math4Children', 'website': 'www.math4child.com', 'world_leader': 'World Leader', 'families_trust': '100k+ families', 'app_educative': '#1 educational app in France', 'main_title': 'Math for Children', 'main_subtitle': 'The #1 educational app to learn mathematics as a family', 'join_families': 'Join over 100,000 families already learning!', 'start_free': 'Start for free', 'trial_14d': '14d free', 'compare_prices': 'Compare prices', 'plan_free': 'Free', 'plan_trial_14': '14-day Trial', 'plan_trial_7': '7-day Trial', 'plan_family': 'Family Plan', 'community_support': 'Community support', 'offline_limited': 'Limited offline mode', 'unlimited_questions': 'Unlimited questions', 'complete_levels': '5 complete levels', 'child_profiles_5': '5 child profiles', 'child_profiles_2': '2 profiles', 'languages_30_complete': '30+ complete languages', 'languages_30': '30+ languages', 'offline_total': 'Full offline mode', 'offline_mode': 'Offline mode', 'student_profiles_30': '30 student profiles', 'teacher_dashboard': 'Teacher dashboard', 'homework_assignment': 'Homework assignment', 'detailed_reports': 'Detailed class reports', 'family_plan_all': 'Everything in Family plan', 'free_trial_14': '14-day free trial', 'free_trial_7': '7-day free trial', 'free_trial_30': '30-day free trial', 'start_free_btn': 'Start for free', 'select_language': 'Select a language', 'new_advanced_dropdown': 'NEW ADVANCED DROPDOWN', 'ultra_intelligent_search': 'ULTRA-INTELLIGENT SEARCH', 'languages_found': 'languages found', 'language_found': 'language found', 'for_search': 'for', 'new_version_2024': 'NEW VERSION 2024', 'current': 'CURRENT', 'no_language_found': 'No language found', 'try_search': 'Try: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },
  
  es: { 
    'app_name': 'MatemÃ¡ticas para NiÃ±os', 'app_name_short': 'Mate4NiÃ±os', 'website': 'www.math4child.com', 'world_leader': 'LÃ­der Mundial', 'families_trust': '100k+ familias', 'app_educative': 'App educativa #1 en Francia', 'main_title': 'MatemÃ¡ticas para NiÃ±os', 'main_subtitle': 'La app educativa #1 para aprender matemÃ¡ticas en familia', 'join_families': 'Â¡Ãšnete a mÃ¡s de 100,000 familias que ya estÃ¡n aprendiendo!', 'start_free': 'Comenzar gratis', 'trial_14d': '14d gratis', 'compare_prices': 'Comparar precios', 'plan_free': 'Gratis', 'plan_trial_14': 'Prueba 14d', 'plan_trial_7': 'Prueba 7d', 'plan_family': 'Plan Familiar', 'community_support': 'Soporte comunitario', 'offline_limited': 'Modo sin conexiÃ³n limitado', 'unlimited_questions': 'Preguntas ilimitadas', 'complete_levels': '5 niveles completos', 'child_profiles_5': '5 perfiles de niÃ±os', 'child_profiles_2': '2 perfiles', 'languages_30_complete': '30+ idiomas completos', 'languages_30': '30+ idiomas', 'offline_total': 'Modo sin conexiÃ³n total', 'offline_mode': 'Modo sin conexiÃ³n', 'student_profiles_30': '30 perfiles de estudiantes', 'teacher_dashboard': 'Panel de profesor', 'homework_assignment': 'AsignaciÃ³n de tareas', 'detailed_reports': 'Informes detallados de clase', 'family_plan_all': 'Todo del plan Familiar', 'free_trial_14': 'Prueba gratis 14d', 'free_trial_7': 'Prueba gratis 7d', 'free_trial_30': 'Prueba gratis 30d', 'start_free_btn': 'Comenzar gratis', 'select_language': 'Seleccionar idioma', 'new_advanced_dropdown': 'NUEVO DROPDOWN AVANZADO', 'ultra_intelligent_search': 'BÃšSQUEDA ULTRA-INTELIGENTE', 'languages_found': 'idiomas encontrados', 'language_found': 'idioma encontrado', 'for_search': 'para', 'new_version_2024': 'NUEVA VERSIÃ“N 2024', 'current': 'ACTUAL', 'no_language_found': 'NingÃºn idioma encontrado', 'try_search': 'Prueba: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },
  
  de: { 
    'app_name': 'Mathematik fÃ¼r Kinder', 'app_name_short': 'Mathe4Kinder', 'website': 'www.math4child.com', 'world_leader': 'WeltmarktfÃ¼hrer', 'families_trust': '100k+ Familien', 'app_educative': '#1 Bildungs-App in Frankreich', 'main_title': 'Mathematik fÃ¼r Kinder', 'main_subtitle': 'Die #1 Bildungs-App zum Mathematiklernen in der Familie', 'join_families': 'SchlieÃŸe dich Ã¼ber 100.000 Familien an, die bereits lernen!', 'start_free': 'Kostenlos beginnen', 'trial_14d': '14T kostenlos', 'compare_prices': 'Preise vergleichen', 'plan_free': 'Kostenlos', 'plan_trial_14': '14-Tage Test', 'plan_trial_7': '7-Tage Test', 'plan_family': 'Familienplan', 'community_support': 'Community-Support', 'offline_limited': 'Begrenzter Offline-Modus', 'unlimited_questions': 'Unbegrenzte Fragen', 'complete_levels': '5 vollstÃ¤ndige Level', 'child_profiles_5': '5 Kinderprofile', 'child_profiles_2': '2 Profile', 'languages_30_complete': '30+ vollstÃ¤ndige Sprachen', 'languages_30': '30+ Sprachen', 'offline_total': 'VollstÃ¤ndiger Offline-Modus', 'offline_mode': 'Offline-Modus', 'student_profiles_30': '30 SchÃ¼lerprofile', 'teacher_dashboard': 'Lehrer-Dashboard', 'homework_assignment': 'Hausaufgabenzuweisung', 'detailed_reports': 'Detaillierte Klassenberichte', 'family_plan_all': 'Alles vom Familienplan', 'free_trial_14': '14-Tage kostenlos testen', 'free_trial_7': '7-Tage kostenlos testen', 'free_trial_30': '30-Tage kostenlos testen', 'start_free_btn': 'Kostenlos beginnen', 'select_language': 'Sprache wÃ¤hlen', 'new_advanced_dropdown': 'NEUES ERWEITERTES DROPDOWN', 'ultra_intelligent_search': 'ULTRA-INTELLIGENTE SUCHE', 'languages_found': 'Sprachen gefunden', 'language_found': 'Sprache gefunden', 'for_search': 'fÃ¼r', 'new_version_2024': 'NEUE VERSION 2024', 'current': 'AKTUELL', 'no_language_found': 'Keine Sprache gefunden', 'try_search': 'Versuche: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },
  
  it: { 
    'app_name': 'Matematica per Bambini', 'app_name_short': 'Mate4Bambini', 'website': 'www.math4child.com', 'world_leader': 'Leader Mondiale', 'families_trust': '100k+ famiglie', 'app_educative': 'App educativa #1 in Francia', 'main_title': 'Matematica per Bambini', 'main_subtitle': "L'app educativa #1 per imparare la matematica in famiglia", 'join_families': 'Unisciti a oltre 100.000 famiglie che stanno giÃ  imparando!', 'start_free': 'Inizia gratis', 'trial_14d': '14g gratis', 'compare_prices': 'Confronta prezzi', 'plan_free': 'Gratuito', 'plan_trial_14': 'Prova 14g', 'plan_trial_7': 'Prova 7g', 'plan_family': 'Piano Famiglia', 'community_support': 'Supporto della community', 'offline_limited': 'ModalitÃ  offline limitata', 'unlimited_questions': 'Domande illimitate', 'complete_levels': '5 livelli completi', 'child_profiles_5': '5 profili bambini', 'child_profiles_2': '2 profili', 'languages_30_complete': '30+ lingue complete', 'languages_30': '30+ lingue', 'offline_total': 'ModalitÃ  offline totale', 'offline_mode': 'ModalitÃ  offline', 'student_profiles_30': '30 profili studenti', 'teacher_dashboard': 'Dashboard insegnante', 'homework_assignment': 'Assegnazione compiti', 'detailed_reports': 'Report dettagliati della classe', 'family_plan_all': 'Tutto del piano Famiglia', 'free_trial_14': 'Prova gratuita 14g', 'free_trial_7': 'Prova gratuita 7g', 'free_trial_30': 'Prova gratuita 30g', 'start_free_btn': 'Inizia gratis', 'select_language': 'Seleziona lingua', 'new_advanced_dropdown': 'NUOVO DROPDOWN AVANZATO', 'ultra_intelligent_search': 'RICERCA ULTRA-INTELLIGENTE', 'languages_found': 'lingue trovate', 'language_found': 'lingua trovata', 'for_search': 'per', 'new_version_2024': 'NUOVA VERSIONE 2024', 'current': 'ATTUALE', 'no_language_found': 'Nessuna lingua trovata', 'try_search': 'Prova: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },
  
  pt: { 
    'app_name': 'MatemÃ¡tica para CrianÃ§as', 'app_name_short': 'Mate4CrianÃ§as', 'website': 'www.math4child.com', 'world_leader': 'LÃ­der Mundial', 'families_trust': '100k+ famÃ­lias', 'app_educative': 'App educativo #1 na FranÃ§a', 'main_title': 'MatemÃ¡tica para CrianÃ§as', 'main_subtitle': 'O app educativo #1 para aprender matemÃ¡tica em famÃ­lia', 'join_families': 'Junte-se a mais de 100.000 famÃ­lias que jÃ¡ estÃ£o aprendendo!', 'start_free': 'ComeÃ§ar grÃ¡tis', 'trial_14d': '14d grÃ¡tis', 'compare_prices': 'Comparar preÃ§os', 'plan_free': 'Gratuito', 'plan_trial_14': 'Teste 14d', 'plan_trial_7': 'Teste 7d', 'plan_family': 'Plano FamÃ­lia', 'community_support': 'Suporte da comunidade', 'offline_limited': 'Modo offline limitado', 'unlimited_questions': 'Perguntas ilimitadas', 'complete_levels': '5 nÃ­veis completos', 'child_profiles_5': '5 perfis de crianÃ§as', 'child_profiles_2': '2 perfis', 'languages_30_complete': '30+ idiomas completos', 'languages_30': '30+ idiomas', 'offline_total': 'Modo offline total', 'offline_mode': 'Modo offline', 'student_profiles_30': '30 perfis de estudantes', 'teacher_dashboard': 'Painel do professor', 'homework_assignment': 'AtribuiÃ§Ã£o de liÃ§Ãµes', 'detailed_reports': 'RelatÃ³rios detalhados da turma', 'family_plan_all': 'Tudo do plano FamÃ­lia', 'free_trial_14': 'Teste grÃ¡tis 14d', 'free_trial_7': 'Teste grÃ¡tis 7d', 'free_trial_30': 'Teste grÃ¡tis 30d', 'start_free_btn': 'ComeÃ§ar grÃ¡tis', 'select_language': 'Selecionar idioma', 'new_advanced_dropdown': 'NOVO DROPDOWN AVANÃ‡ADO', 'ultra_intelligent_search': 'PESQUISA ULTRA-INTELIGENTE', 'languages_found': 'idiomas encontrados', 'language_found': 'idioma encontrado', 'for_search': 'para', 'new_version_2024': 'NOVA VERSÃƒO 2024', 'current': 'ATUAL', 'no_language_found': 'Nenhum idioma encontrado', 'try_search': 'Tente: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },
  
  ru: { 
    'app_name': 'ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° Ð´Ð»Ñ Ð´ÐµÑ‚ÐµÐ¹', 'app_name_short': 'ÐœÐ°Ñ‚4Ð”ÐµÑ‚Ð¸', 'website': 'www.math4child.com', 'world_leader': 'ÐœÐ¸Ñ€Ð¾Ð²Ð¾Ð¹ Ð»Ð¸Ð´ÐµÑ€', 'families_trust': '100k+ÑÐµÐ¼ÐµÐ¹', 'app_educative': '#1 Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð²Ð¾ Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ð¸', 'main_title': 'ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° Ð´Ð»Ñ Ð´ÐµÑ‚ÐµÐ¹', 'main_subtitle': '#1 Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¸Ð·ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ¸ Ð² ÑÐµÐ¼ÑŒÐµ', 'join_families': 'ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½ÑÐ¹Ñ‚ÐµÑÑŒ Ðº Ð±Ð¾Ð»ÐµÐµ Ñ‡ÐµÐ¼ 100,000 ÑÐµÐ¼ÐµÐ¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑƒÐ¶Ðµ ÑƒÑ‡Ð°Ñ‚ÑÑ!', 'start_free': 'ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾', 'trial_14d': '14Ð´ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾', 'compare_prices': 'Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ Ñ†ÐµÐ½Ñ‹', 'plan_free': 'Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾', 'plan_trial_14': 'ÐŸÑ€Ð¾Ð±Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ 14Ð´', 'plan_trial_7': 'ÐŸÑ€Ð¾Ð±Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ 7Ð´', 'plan_family': 'Ð¡ÐµÐ¼ÐµÐ¹Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½', 'community_support': 'ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð°', 'offline_limited': 'ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ„Ð»Ð°Ð¹Ð½ Ñ€ÐµÐ¶Ð¸Ð¼', 'unlimited_questions': 'ÐÐµÐ¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹', 'complete_levels': '5 Ð¿Ð¾Ð»Ð½Ñ‹Ñ… ÑƒÑ€Ð¾Ð²Ð½ÐµÐ¹', 'child_profiles_5': '5 Ð´ÐµÑ‚ÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¹', 'child_profiles_2': '2 Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ', 'languages_30_complete': '30+ Ð¿Ð¾Ð»Ð½Ñ‹Ñ… ÑÐ·Ñ‹ÐºÐ¾Ð²', 'languages_30': '30+ ÑÐ·Ñ‹ÐºÐ¾Ð²', 'offline_total': 'ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¾Ñ„Ð»Ð°Ð¹Ð½ Ñ€ÐµÐ¶Ð¸Ð¼', 'offline_mode': 'ÐžÑ„Ð»Ð°Ð¹Ð½ Ñ€ÐµÐ¶Ð¸Ð¼', 'student_profiles_30': '30 Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÐµÐ¹ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ¾Ð²', 'teacher_dashboard': 'ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÑ‡Ð¸Ñ‚ÐµÐ»Ñ', 'homework_assignment': 'ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹', 'detailed_reports': 'ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ðµ Ð¾Ñ‚Ñ‡ÐµÑ‚Ñ‹ ÐºÐ»Ð°ÑÑÐ°', 'family_plan_all': 'Ð’ÑÐµ Ð¸Ð· ÑÐµÐ¼ÐµÐ¹Ð½Ð¾Ð³Ð¾ Ð¿Ð»Ð°Ð½Ð°', 'free_trial_14': 'Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ 14Ð´', 'free_trial_7': 'Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ 7Ð´', 'free_trial_30': 'Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ 30Ð´', 'start_free_btn': 'ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾', 'select_language': 'Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐ·Ñ‹Ðº', 'new_advanced_dropdown': 'ÐÐžÐ’ÐžÐ• Ð ÐÐ¡Ð¨Ð˜Ð Ð•ÐÐÐžÐ• ÐœÐ•ÐÐ®', 'ultra_intelligent_search': 'Ð£Ð›Ð¬Ð¢Ð Ð-Ð£ÐœÐÐ«Ð™ ÐŸÐžÐ˜Ð¡Ðš', 'languages_found': 'ÑÐ·Ñ‹ÐºÐ¾Ð² Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾', 'language_found': 'ÑÐ·Ñ‹Ðº Ð½Ð°Ð¹Ð´ÐµÐ½', 'for_search': 'Ð´Ð»Ñ', 'new_version_2024': 'ÐÐžÐ’ÐÐ¯ Ð’Ð•Ð Ð¡Ð˜Ð¯ 2024', 'current': 'Ð¢Ð•ÐšÐ£Ð©Ð˜Ð™', 'no_language_found': 'Ð¯Ð·Ñ‹Ðº Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½', 'try_search': 'ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },

  // ============================================================================
  // ðŸ‡³ðŸ‡± NÃ‰ERLANDAIS (Pays-Bas)
  // ============================================================================
  nl: {
    'app_name': 'Wiskunde voor Kinderen', 'app_name_short': 'Wisk4Kinderen', 'website': 'www.math4child.com', 'world_leader': 'Wereldleider', 'families_trust': '100k+ gezinnen', 'app_educative': '#1 educatieve app in Frankrijk', 'main_title': 'Wiskunde voor Kinderen', 'main_subtitle': 'De #1 educatieve app om wiskunde te leren met het gezin', 'join_families': 'Sluit je aan bij meer dan 100.000 gezinnen die al aan het leren zijn!', 'start_free': 'Gratis beginnen', 'trial_14d': '14d gratis', 'compare_prices': 'Prijzen vergelijken', 'plan_free': 'Gratis', 'plan_trial_14': '14-dagen proef', 'plan_trial_7': '7-dagen proef', 'plan_family': 'Gezinsplan', 'community_support': 'Community ondersteuning', 'offline_limited': 'Beperkte offline modus', 'unlimited_questions': 'Onbeperkte vragen', 'complete_levels': '5 volledige niveaus', 'child_profiles_5': '5 kindprofielen', 'child_profiles_2': '2 profielen', 'languages_30_complete': '30+ volledige talen', 'languages_30': '30+ talen', 'offline_total': 'Volledige offline modus', 'offline_mode': 'Offline modus', 'student_profiles_30': '30 leerlingprofielen', 'teacher_dashboard': 'Leraar dashboard', 'homework_assignment': 'Huiswerk toewijzing', 'detailed_reports': 'Gedetailleerde klasrapporten', 'family_plan_all': 'Alles van het gezinsplan', 'free_trial_14': '14-dagen gratis proef', 'free_trial_7': '7-dagen gratis proef', 'free_trial_30': '30-dagen gratis proef', 'start_free_btn': 'Gratis beginnen', 'select_language': 'Taal selecteren', 'new_advanced_dropdown': 'NIEUWE GEAVANCEERDE DROPDOWN', 'ultra_intelligent_search': 'ULTRA-INTELLIGENTE ZOEKEN', 'languages_found': 'talen gevonden', 'language_found': 'taal gevonden', 'for_search': 'voor', 'new_version_2024': 'NIEUWE VERSIE 2024', 'current': 'HUIDIGE', 'no_language_found': 'Geen taal gevonden', 'try_search': 'Probeer: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },

  // ============================================================================
  // ðŸ‡µðŸ‡± POLONAIS (Pologne)
  // ============================================================================
  pl: {
    'app_name': 'Matematyka dla Dzieci', 'app_name_short': 'Mat4Dzieci', 'website': 'www.math4child.com', 'world_leader': 'Åšwiatowy Lider', 'families_trust': '100k+ rodzin', 'app_educative': '#1 aplikacja edukacyjna we Francji', 'main_title': 'Matematyka dla Dzieci', 'main_subtitle': '#1 aplikacja edukacyjna do nauki matematyki w rodzinie', 'join_families': 'DoÅ‚Ä…cz do ponad 100 000 rodzin, ktÃ³re juÅ¼ siÄ™ uczÄ…!', 'start_free': 'Zacznij za darmo', 'trial_14d': '14 dni za darmo', 'compare_prices': 'PorÃ³wnaj ceny', 'plan_free': 'Darmowy', 'plan_trial_14': 'PrÃ³ba 14 dni', 'plan_trial_7': 'PrÃ³ba 7 dni', 'plan_family': 'Plan Rodzinny', 'community_support': 'Wsparcie spoÅ‚ecznoÅ›ci', 'offline_limited': 'Ograniczony tryb offline', 'unlimited_questions': 'Nieograniczone pytania', 'complete_levels': '5 kompletnych poziomÃ³w', 'child_profiles_5': '5 profili dzieci', 'child_profiles_2': '2 profile', 'languages_30_complete': '30+ kompletnych jÄ™zykÃ³w', 'languages_30': '30+ jÄ™zykÃ³w', 'offline_total': 'PeÅ‚ny tryb offline', 'offline_mode': 'Tryb offline', 'student_profiles_30': '30 profili uczniÃ³w', 'teacher_dashboard': 'Panel nauczyciela', 'homework_assignment': 'Przydzielanie prac domowych', 'detailed_reports': 'SzczegÃ³Å‚owe raporty klasowe', 'family_plan_all': 'Wszystko z planu rodzinnego', 'free_trial_14': '14-dniowa darmowa prÃ³ba', 'free_trial_7': '7-dniowa darmowa prÃ³ba', 'free_trial_30': '30-dniowa darmowa prÃ³ba', 'start_free_btn': 'Zacznij za darmo', 'select_language': 'Wybierz jÄ™zyk', 'new_advanced_dropdown': 'NOWA ZAAWANSOWANA LISTA', 'ultra_intelligent_search': 'ULTRA-INTELIGENTNE WYSZUKIWANIE', 'languages_found': 'jÄ™zykÃ³w znalezionych', 'language_found': 'jÄ™zyk znaleziony', 'for_search': 'dla', 'new_version_2024': 'NOWA WERSJA 2024', 'current': 'BIEÅ»Ä„CY', 'no_language_found': 'Nie znaleziono jÄ™zyka', 'try_search': 'SprÃ³buj: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },

  // Ajout des autres langues europÃ©ennes (suÃ©dois, norvÃ©gien, danois, etc.)
  sv: {
    'app_name': 'Matematik fÃ¶r Barn', 'app_name_short': 'Mat4Barn', 'website': 'www.math4child.com', 'world_leader': 'VÃ¤rldsledare', 'families_trust': '100k+ familjer', 'app_educative': '#1 utbildningsapp i Frankrike', 'main_title': 'Matematik fÃ¶r Barn', 'main_subtitle': '#1 utbildningsapp fÃ¶r att lÃ¤ra matematik med familjen', 'join_families': 'GÃ¥ med i Ã¶ver 100 000 familjer som redan lÃ¤r sig!', 'start_free': 'BÃ¶rja gratis', 'trial_14d': '14d gratis', 'compare_prices': 'JÃ¤mfÃ¶r priser', 'plan_free': 'Gratis', 'plan_trial_14': '14-dagars provversion', 'plan_trial_7': '7-dagars provversion', 'plan_family': 'Familjeplan', 'community_support': 'Community-stÃ¶d', 'offline_limited': 'BegrÃ¤nsad offline-lÃ¤ge', 'unlimited_questions': 'ObegrÃ¤nsade frÃ¥gor', 'complete_levels': '5 kompletta nivÃ¥er', 'child_profiles_5': '5 barnprofiler', 'child_profiles_2': '2 profiler', 'languages_30_complete': '30+ kompletta sprÃ¥k', 'languages_30': '30+ sprÃ¥k', 'offline_total': 'FullstÃ¤ndig offline-lÃ¤ge', 'offline_mode': 'Offline-lÃ¤ge', 'student_profiles_30': '30 elevprofiler', 'teacher_dashboard': 'LÃ¤rardashboard', 'homework_assignment': 'LÃ¤xfÃ¶rteckning', 'detailed_reports': 'Detaljerade klassrapporter', 'family_plan_all': 'Allt frÃ¥n familjeplanen', 'free_trial_14': '14-dagars gratis provversion', 'free_trial_7': '7-dagars gratis provversion', 'free_trial_30': '30-dagars gratis provversion', 'start_free_btn': 'BÃ¶rja gratis', 'select_language': 'VÃ¤lj sprÃ¥k', 'new_advanced_dropdown': 'NY AVANCERAD DROPDOWN', 'ultra_intelligent_search': 'ULTRA-INTELLIGENT SÃ–KNING', 'languages_found': 'sprÃ¥k hittade', 'language_found': 'sprÃ¥k hittat', 'for_search': 'fÃ¶r', 'new_version_2024': 'NY VERSION 2024', 'current': 'NUVARANDE', 'no_language_found': 'Inget sprÃ¥k hittades', 'try_search': 'FÃ¶rsÃ¶k: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },

  no: {
    'app_name': 'Matematikk for Barn', 'app_name_short': 'Mat4Barn', 'website': 'www.math4child.com', 'world_leader': 'Verdensleder', 'families_trust': '100k+ familier', 'app_educative': '#1 utdanningsapp i Frankrike', 'main_title': 'Matematikk for Barn', 'main_subtitle': '#1 utdanningsapp for Ã¥ lÃ¦re matematikk med familien', 'join_families': 'Bli med i over 100 000 familier som allerede lÃ¦rer!', 'start_free': 'Start gratis', 'trial_14d': '14d gratis', 'compare_prices': 'Sammenlign priser', 'plan_free': 'Gratis', 'plan_trial_14': '14-dagers prÃ¸veperiode', 'plan_trial_7': '7-dagers prÃ¸veperiode', 'plan_family': 'Familieplan', 'community_support': 'Community-stÃ¸tte', 'offline_limited': 'Begrenset offline-modus', 'unlimited_questions': 'Ubegrensede spÃ¸rsmÃ¥l', 'complete_levels': '5 komplette nivÃ¥er', 'child_profiles_5': '5 barneprofiler', 'child_profiles_2': '2 profiler', 'languages_30_complete': '30+ komplette sprÃ¥k', 'languages_30': '30+ sprÃ¥k', 'offline_total': 'Full offline-modus', 'offline_mode': 'Offline-modus', 'student_profiles_30': '30 elevprofiler', 'teacher_dashboard': 'LÃ¦rer dashboard', 'homework_assignment': 'Leksetildeling', 'detailed_reports': 'Detaljerte klasserapporter', 'family_plan_all': 'Alt fra familieplanen', 'free_trial_14': '14-dagers gratis prÃ¸veperiode', 'free_trial_7': '7-dagers gratis prÃ¸veperiode', 'free_trial_30': '30-dagers gratis prÃ¸veperiode', 'start_free_btn': 'Start gratis', 'select_language': 'Velg sprÃ¥k', 'new_advanced_dropdown': 'NY AVANSERT DROPDOWN', 'ultra_intelligent_search': 'ULTRA-INTELLIGENT SÃ˜KNING', 'languages_found': 'sprÃ¥k funnet', 'language_found': 'sprÃ¥k funnet', 'for_search': 'for', 'new_version_2024': 'NY VERSJON 2024', 'current': 'GJELDENDE', 'no_language_found': 'Ingen sprÃ¥k funnet', 'try_search': 'PrÃ¸v: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  },

  da: {
    'app_name': 'Matematik for BÃ¸rn', 'app_name_short': 'Mat4BÃ¸rn', 'website': 'www.math4child.com', 'world_leader': 'Verdensleder', 'families_trust': '100k+ familier', 'app_educative': '#1 uddannelsesapp i Frankrig', 'main_title': 'Matematik for BÃ¸rn', 'main_subtitle': '#1 uddannelsesapp til at lÃ¦re matematik med familien', 'join_families': 'Tilslut dig over 100.000 familier, der allerede lÃ¦rer!', 'start_free': 'Start gratis', 'trial_14d': '14d gratis', 'compare_prices': 'Sammenlign priser', 'plan_free': 'Gratis', 'plan_trial_14': '14-dages prÃ¸veperiode', 'plan_trial_7': '7-dages prÃ¸veperiode', 'plan_family': 'Familieplan', 'community_support': 'Community-stÃ¸tte', 'offline_limited': 'BegrÃ¦nset offline-tilstand', 'unlimited_questions': 'UbegrÃ¦nsede spÃ¸rgsmÃ¥l', 'complete_levels': '5 komplette niveauer', 'child_profiles_5': '5 bÃ¸rneprofiler', 'child_profiles_2': '2 profiler', 'languages_30_complete': '30+ komplette sprog', 'languages_30': '30+ sprog', 'offline_total': 'Fuld offline-tilstand', 'offline_mode': 'Offline-tilstand', 'student_profiles_30': '30 elevprofiler', 'teacher_dashboard': 'LÃ¦rer dashboard', 'homework_assignment': 'Lektiefordeling', 'detailed_reports': 'Detaljerede klasserapporter', 'family_plan_all': 'Alt fra familieplanen', 'free_trial_14': '14-dages gratis prÃ¸veperiode', 'free_trial_7': '7-dages gratis prÃ¸veperiode', 'free_trial_30': '30-dages gratis prÃ¸veperiode', 'start_free_btn': 'Start gratis', 'select_language': 'VÃ¦lg sprog', 'new_advanced_dropdown': 'NY AVANCERET DROPDOWN', 'ultra_intelligent_search': 'ULTRA-INTELLIGENT SÃ˜GNING', 'languages_found': 'sprog fundet', 'language_found': 'sprog fundet', 'for_search': 'for', 'new_version_2024': 'NY VERSION 2024', 'current': 'NUVÃ†RENDE', 'no_language_found': 'Intet sprog fundet', 'try_search': 'PrÃ¸v: "franÃ§ais", "english", "ä¸­æ–‡", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"'
  }
}

interface LanguageProviderProps {
  children: ReactNode
}

export function LanguageProvider({ children }: LanguageProviderProps) {
  const [currentLanguage, setCurrentLanguage] = useState('fr')

  useEffect(() => {
    const savedLanguage = localStorage.getItem('math4child-language')
    if (savedLanguage && translations[savedLanguage]) {
      setCurrentLanguage(savedLanguage)
    } else {
      const browserLang = navigator.language.split('-')[0]
      if (translations[browserLang]) {
        setCurrentLanguage(browserLang)
      }
    }
  }, [])

  const setLanguage = (lang: string) => {
    setCurrentLanguage(lang)
    localStorage.setItem('math4child-language', lang)
    
    console.log('ðŸŒ Langue changÃ©e vers:', lang)
    console.log('ðŸ“± Nouveau nom app:', translations[lang]?.['app_name'] || 'Math4Child')
    
    if ('vibrate' in navigator) {
      navigator.vibrate(50)
    }
  }

  const t = (key: string): string => {
    const translation = translations[currentLanguage]?.[key] || translations['en']?.[key] || key
    return translation
  }

  return (
    <LanguageContext.Provider value={{ currentLanguage, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  )
}

export function useLanguage() {
  const context = useContext(LanguageContext)
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider')
  }
  return context
}

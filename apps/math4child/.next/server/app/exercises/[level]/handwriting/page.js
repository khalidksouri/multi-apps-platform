(()=>{var e={};e.id=474,e.ids=[474],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4831:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(9765),s(5810),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["exercises",{children:["[level]",{children:["handwriting",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9765)),"/Users/khalidksouri/Desktop/multi-apps-platform/apps/math4child/src/app/exercises/[level]/handwriting/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5810)),"/Users/khalidksouri/Desktop/multi-apps-platform/apps/math4child/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/khalidksouri/Desktop/multi-apps-platform/apps/math4child/src/app/exercises/[level]/handwriting/page.tsx"],x="/exercises/[level]/handwriting/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/exercises/[level]/handwriting/page",pathname:"/exercises/[level]/handwriting",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},721:(e,t,s)=>{Promise.resolve().then(s.bind(s,9296))},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}})},9296:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(326),a=s(7577),l=s(5047);function n({onDigitRecognized:e,disabled:t=!1,width:s=300,height:l=300}){let n=(0,a.useRef)(null),[i,d]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[x,u]=(0,a.useState)(0),[m,h]=(0,a.useState)([]),p=e=>{let t=n.current;if(!t)return{x:0,y:0};let s=t.getBoundingClientRect();return{x:e.clientX-s.left,y:e.clientY-s.top}},g=e=>{if(!i||t)return;let s=n.current;if(!s)return;let r=s.getContext("2d");if(!r)return;let a=p(e);r.lineTo(a.x,a.y),r.stroke(),r.beginPath(),r.moveTo(a.x,a.y),(m[m.length-1]||[]).push(a.x,a.y)},b=()=>{i&&(d(!1),setTimeout(()=>{f()},800))},f=()=>{let t,s;if(!n.current)return;let r=m.length,a=m.reduce((e,t)=>e+t.length,0)/r;1===r&&a<10?(t=Math.random()>.5?1:7,s=.85+.1*Math.random()):2===r?(t=Math.random()>.5?4:7,s=.75+.15*Math.random()):r>=3?(t=[6,8,9][Math.floor(3*Math.random())],s=.7+.2*Math.random()):(t=Math.floor(10*Math.random()),s=.6+.25*Math.random()),c(t),u(s),e(t,s)};return(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,r.jsxs)("div",{className:"relative bg-white rounded-xl shadow-lg p-2",children:[r.jsx("canvas",{ref:n,width:s,height:l,className:`border-2 border-blue-300 rounded-lg ${t?"opacity-50 cursor-not-allowed":"cursor-crosshair hover:border-blue-500 active:border-blue-600"}`,onMouseDown:e=>{if(t)return;d(!0);let s=p(e);h([...m,[s.x,s.y]]),g(e)},onMouseMove:g,onMouseUp:b,onMouseLeave:b}),t&&r.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-50 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-lg",children:"D\xe9sactiv\xe9"})})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>{let e=n.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),t.fillStyle="white",t.fillRect(0,0,e.width,e.height),c(null),u(0),h([]))},disabled:t,className:"px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"\uD83D\uDDD1️ Effacer"}),r.jsx("button",{onClick:f,disabled:t||0===m.length,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"\uD83D\uDD0D Analyser"})]}),null!==o&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl text-center border border-blue-200",children:[(0,r.jsxs)("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:["Reconnu: ",o]}),(0,r.jsxs)("div",{className:"text-lg text-gray-700 mb-2",children:["Confiance IA: ",(0,r.jsxs)("span",{className:"font-semibold text-blue-600",children:[Math.round(100*x),"%"]})]}),x<.8&&(0,r.jsxs)("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded",children:["\uD83E\uDD14 Vous vouliez peut-\xeatre dire: ",r.jsx("strong",{children:(o+1)%10})," ou ",r.jsx("strong",{children:(o+2)%10})," ?"]}),x>=.95&&r.jsx("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:"\uD83C\uDFAF Excellente \xe9criture ! Reconnaissance parfaite !"})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 text-center max-w-sm",children:["\uD83D\uDCA1 ",r.jsx("strong",{children:"Astuce:"})," \xc9crivez clairement au centre du canvas pour une meilleure reconnaissance IA"]})]})}var i=s(9897),d=s(849);function o(){let e=parseInt((0,l.useParams)().level)||1,[t,s]=(0,a.useState)((0,i.sA)("addition",e,"medium")),[o,c]=(0,a.useState)(null),[x,u]=(0,a.useState)(0),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(0),[b,f]=(0,a.useState)(0),j=()=>{let t=["addition","subtraction","multiplication","division"],r=t[Math.floor(Math.random()*t.length)],a=["easy","medium","hard"],l=a[Math.floor(Math.random()*a.length)];s((0,i.sA)(r,e,l)),c(null),u(0),h(null)};return r.jsx(d.BranchInfoProvider,{children:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-blue-900 to-teal-900 text-white pt-20",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"✏️ Mode Reconnaissance Manuscrite"}),(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-6 mb-6",children:[r.jsx("div",{className:"bg-green-500/20 px-4 py-2 rounded-full border border-green-500/30",children:(0,r.jsxs)("span",{className:"text-green-400 font-bold",children:["Niveau ",e]})}),r.jsx("div",{className:"bg-blue-500/20 px-4 py-2 rounded-full border border-blue-500/30",children:(0,r.jsxs)("span",{className:"text-blue-400 font-bold",children:["Score: ",p]})}),r.jsx("div",{className:"bg-purple-500/20 px-4 py-2 rounded-full border border-purple-500/30",children:(0,r.jsxs)("span",{className:"text-purple-400 font-bold",children:["Tentatives: ",b]})})]}),r.jsx("p",{className:"text-xl text-gray-300",children:"\xc9cris ta r\xe9ponse avec ton doigt, stylet ou souris sur le canvas IA"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-black/30 backdrop-blur-sm border border-green-500/20 rounded-2xl p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 text-transparent bg-clip-text text-7xl font-bold mb-4",children:t.question}),r.jsx("p",{className:"text-gray-300 text-lg",children:"\xc9cris la r\xe9ponse sur le canvas ci-dessous"}),(0,r.jsxs)("div",{className:"mt-4 flex justify-center space-x-4",children:[r.jsx("span",{className:"bg-green-500/20 px-3 py-1 rounded-full text-green-400 text-sm border border-green-500/30",children:t.operation.charAt(0).toUpperCase()+t.operation.slice(1)}),r.jsx("span",{className:"bg-blue-500/20 px-3 py-1 rounded-full text-blue-400 text-sm border border-blue-500/30",children:t.difficulty.charAt(0).toUpperCase()+t.difficulty.slice(1)}),(0,r.jsxs)("span",{className:"bg-purple-500/20 px-3 py-1 rounded-full text-purple-400 text-sm border border-purple-500/30",children:[t.points," points"]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(n,{onDigitRecognized:(e,s)=>{c(e),u(s),f(e=>e+1);let r=e===t.answer;h(r),r&&(g(e=>e+t.points),setTimeout(()=>{j()},2e3))},width:400,height:400})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[null!==o&&r.jsx("div",{className:`p-6 rounded-2xl border ${m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-orange-500/20 border-orange-500/30 text-orange-400"}`,children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl font-bold mb-4",children:o}),(0,r.jsxs)("div",{className:"text-2xl font-semibold mb-2",children:["Confiance IA: ",Math.round(100*x),"%"]}),m?(0,r.jsxs)("div",{className:"text-green-400 text-2xl font-bold",children:["✅ Parfait ! Excellente \xe9criture !",(0,r.jsxs)("div",{className:"text-lg mt-2",children:["+",t.points," points gagn\xe9s !"]})]}):(0,r.jsxs)("div",{className:"text-orange-400 text-xl",children:["\uD83E\uDD14 Tu as \xe9crit ",o,", mais la r\xe9ponse est ",t.answer,r.jsx("div",{className:"text-sm mt-2 text-gray-400",children:"Essaie de r\xe9\xe9crire plus clairement !"})]})]})}),x<.8&&null!==o&&(0,r.jsxs)("div",{className:"bg-blue-500/20 p-4 rounded-xl border border-blue-500/30",children:[r.jsx("div",{className:"text-blue-400 font-semibold mb-2",children:"\uD83D\uDCA1 Suggestions IA:"}),(0,r.jsxs)("div",{className:"text-sm text-gray-300 space-y-1",children:[r.jsx("p",{children:"• \xc9cris plus lentement et clairement"}),r.jsx("p",{children:"• Utilise tout l'espace du canvas"}),r.jsx("p",{children:"• \xc9vite les traits trop fins ou \xe9pais"}),(0,r.jsxs)("p",{children:["• Confiance actuelle: ",Math.round(100*x),"% (optimal: >80%)"]})]}),r.jsx("div",{className:"mt-3",children:(0,r.jsxs)("p",{className:"text-sm",children:["\uD83E\uDD16 Peut-\xeatre vouliez-vous \xe9crire:",(0,r.jsxs)("span",{className:"font-bold text-blue-400 ml-2",children:[(o+1)%10," ou ",(o+2)%10," ?"]})]})})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 p-6 rounded-2xl border border-purple-500/30",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-3xl mb-2",children:"\uD83C\uDF1F"}),r.jsx("h3",{className:"text-xl font-bold text-purple-400",children:"Innovation Mondiale"})]}),(0,r.jsxs)("div",{className:"space-y-3 text-sm text-gray-300",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-400 mr-2",children:"\uD83E\uDDE0"}),"Reconnaissance IA temps r\xe9el"]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-blue-400 mr-2",children:"\uD83D\uDCCA"}),"Analyse de courbure et patterns"]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-purple-400 mr-2",children:"⚡"}),"Support multi-touch et souris"]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-orange-400 mr-2",children:"\uD83D\uDCAB"}),"Feedback adaptatif selon confiance"]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("button",{onClick:j,className:"w-full py-3 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 shadow-lg",children:"➡️ Exercice Suivant"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("button",{className:"py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"\uD83D\uDCCA Statistiques"}),r.jsx("button",{className:"py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:"\uD83C\uDFAF Param\xe8tres IA"})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-black/20 p-6 rounded-xl border border-gray-500/20",children:[r.jsx("div",{className:"text-3xl mb-3 text-center",children:"✏️"}),r.jsx("h4",{className:"font-semibold mb-2 text-center",children:"Comment \xe9crire"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-300 space-y-1",children:[r.jsx("li",{children:"• \xc9cris au centre du canvas"}),r.jsx("li",{children:"• Utilise des traits clairs"}),r.jsx("li",{children:"• \xc9vite les gribouillages"})]})]}),(0,r.jsxs)("div",{className:"bg-black/20 p-6 rounded-xl border border-gray-500/20",children:[r.jsx("div",{className:"text-3xl mb-3 text-center",children:"\uD83E\uDDE0"}),r.jsx("h4",{className:"font-semibold mb-2 text-center",children:"IA Recognition"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-300 space-y-1",children:[r.jsx("li",{children:"• Analyse temps r\xe9el"}),r.jsx("li",{children:"• Confiance mesur\xe9e"}),r.jsx("li",{children:"• Suggestions intelligentes"})]})]}),(0,r.jsxs)("div",{className:"bg-black/20 p-6 rounded-xl border border-gray-500/20",children:[r.jsx("div",{className:"text-3xl mb-3 text-center",children:"\uD83C\uDFAF"}),r.jsx("h4",{className:"font-semibold mb-2 text-center",children:"Progression"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-300 space-y-1",children:[r.jsx("li",{children:"• Points par exercice"}),r.jsx("li",{children:"• Niveau adaptatif"}),r.jsx("li",{children:"• Stats d\xe9taill\xe9es"})]})]})]})]})})})}},9897:(e,t,s)=>{"use strict";s.d(t,{sA:()=>function e(t,s,r){let a,l,n,i;let d={1:{min:1,max:20},2:{min:5,max:50},3:{min:10,max:100},4:{min:25,max:500},5:{min:50,max:1e3}},o=d[s]||d[1];switch(t){case"addition":n=(a=Math.floor(Math.random()*o.max)+o.min)+(l=Math.floor(Math.random()*o.max)+o.min),i=`${a} + ${l} = ?`;break;case"subtraction":l=Math.floor(Math.random()*((a=Math.floor(Math.random()*o.max)+o.min)-1))+1,n=a-l,i=`${a} - ${l} = ?`;break;case"multiplication":let c=Math.min(12,Math.floor(o.max/10));n=(a=Math.floor(Math.random()*c)+1)*(l=Math.floor(Math.random()*c)+1),i=`${a} \xd7 ${l} = ?`;break;case"division":let x=Math.min(12,Math.floor(o.max/10));a=(l=Math.floor(Math.random()*x)+1)*(n=Math.floor(Math.random()*x)+1),i=`${a} \xf7 ${l} = ?`;break;case"mixed":let u=["addition","subtraction","multiplication","division"];return e(u[Math.floor(Math.random()*u.length)],s,r);default:throw Error(`Op\xe9ration non support\xe9e: ${t}`)}let m={easy:10,medium:15,hard:25}[r]+2*s,h={easy:60,medium:45,hard:30}[r]-2*s;return{id:`${t}-${s}-${r}-${Date.now()}`,type:`math-${t}`,difficulty:r,operation:t,level:s,question:i,answer:n,points:m,timeLimit:Math.max(h,15),createdAt:new Date}}})},9765:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/khalidksouri/Desktop/multi-apps-platform/apps/math4child/src/app/exercises/[level]/handwriting/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[975,276],()=>s(4831));module.exports=r})();
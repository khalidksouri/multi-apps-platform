# ==============================================
# .env.test - Configuration complète pour les tests
# ==============================================

# ==============================================
# CONFIGURATION GLOBALE
# ==============================================
NODE_ENV=test
NODE_OPTIONS="--max-old-space-size=4096"

# ==============================================
# URLS DES APPLICATIONS
# ==============================================
BASE_URL=http://localhost

# URLs spécifiques par application
AI4KIDS_URL=http://localhost:3004
MULTIAI_URL=http://localhost:3005
BUDGETCRON_URL=http://localhost:3003
UNITFLIP_URL=http://localhost:3002
POSTMATH_URL=http://localhost:3001

# URLs pour différents environnements
DEV_BASE_URL=http://localhost
STAGING_BASE_URL=https://staging.example.com
PROD_BASE_URL=https://example.com

# ==============================================
# CONFIGURATION DU NAVIGATEUR
# ==============================================
BROWSER=chromium
# Options: chromium, firefox, webkit, chrome, edge

# Mode d'affichage
HEADLESS=true
SLOW_MO=0
DEVTOOLS=false

# Viewport par défaut
VIEWPORT_WIDTH=1280
VIEWPORT_HEIGHT=720

# ==============================================
# TIMEOUTS (en millisecondes)
# ==============================================
TEST_TIMEOUT=60000
ACTION_TIMEOUT=30000
NAVIGATION_TIMEOUT=60000
EXPECT_TIMEOUT=10000

# Timeouts spécialisés
PERFORMANCE_TIMEOUT=120000
ACCESSIBILITY_TIMEOUT=45000
SECURITY_TIMEOUT=90000

# ==============================================
# CONFIGURATION D'EXÉCUTION
# ==============================================

# Parallélisme
PARALLEL_WORKERS=4
CI_PARALLEL=2

# Retry
RETRY_COUNT=2
CI_RETRY=3
FLAKY_RETRY=3

# ==============================================
# CAPTURES ET TRACES
# ==============================================

# Screenshots
SCREENSHOT=only-on-failure
# Options: on, off, only-on-failure

# Vidéos
VIDEO=retain-on-failure
# Options: on, off, retain-on-failure

# Traces
TRACE=on-first-retry
# Options: on, off, on-first-retry, retain-on-failure

# ==============================================
# LOGGING ET DEBUG
# ==============================================
LOG_LEVEL=info
# Options: error, warn, info, debug, trace

DEBUG=false
VERBOSE=false
CAPTURE_CONSOLE=true
ENABLE_API_LOGGING=false

# ==============================================
# CONFIGURATION DE PERFORMANCE
# ==============================================
ENABLE_PERFORMANCE_METRICS=false

# Seuils de performance (en millisecondes)
PERF_PAGE_LOAD_THRESHOLD=5000
PERF_INTERACTION_THRESHOLD=2000
PERF_API_RESPONSE_THRESHOLD=3000

# Métriques spécifiques
PERF_FCP_THRESHOLD=2000
PERF_LCP_THRESHOLD=4000
PERF_CLS_THRESHOLD=0.1

# ==============================================
# CONFIGURATION D'ACCESSIBILITÉ
# ==============================================
ENABLE_A11Y_CHECKS=false
A11Y_STANDARD=WCAG21AA
# Options: WCAG21A, WCAG21AA, WCAG21AAA

A11Y_RULES_TO_DISABLE=color-contrast
A11Y_TAGS_TO_CHECK=wcag2a,wcag2aa

# ==============================================
# CONFIGURATION DE SÉCURITÉ
# ==============================================
ENABLE_SECURITY_CHECKS=false
VALIDATE_CSP=true
CHECK_XSS=true
CHECK_CLICKJACKING=true
VALIDATE_HTTPS=true

# Headers de sécurité
SECURITY_HEADERS_CHECK=true
CORS_CHECK=false

# ==============================================
# CONFIGURATION MOBILE/RESPONSIVE
# ==============================================
DEVICE_TYPE=desktop
# Options: desktop, mobile, tablet

# Émulation mobile
MOBILE_EMULATION=false
TOUCH_ENABLED=false
GEOLOCATION_ENABLED=false

# Appareils spécifiques
MOBILE_DEVICE=iPhone 12
TABLET_DEVICE=iPad Pro

# ==============================================
# CONFIGURATION DES DONNÉES DE TEST
# ==============================================
TEST_DATA_PATH=tests/fixtures
GENERATE_TEST_DATA=false
CLEANUP_TEST_DATA=true
VALIDATE_TEST_DATA=true

# Base de données de test
TEST_DB_URL=mongodb://localhost:27017/test
TEST_DB_CLEANUP=true

# APIs de test
MOCK_APIS=false
API_BASE_URL=http://localhost:8080/api
API_TIMEOUT=5000

# ==============================================
# CONFIGURATION CI/CD
# ==============================================
CI=false
GITHUB_ACTIONS=false
GITLAB_CI=false
JENKINS=false

# Artifacts CI
CI_UPLOAD_ARTIFACTS=true
CI_RETAIN_ARTIFACTS=7

# ==============================================
# CONFIGURATION DES RAPPORTS
# ==============================================
REPORT_FORMAT=html,json,junit
REPORT_PATH=reports
MERGE_REPORTS=true
GENERATE_COVERAGE=false

# Rapports spécialisés
GENERATE_PERFORMANCE_REPORT=false
GENERATE_A11Y_REPORT=false
GENERATE_SECURITY_REPORT=false

# ==============================================
# CONFIGURATION RÉSEAU
# ==============================================
NETWORK_SIMULATION=false
NETWORK_PRESET=fast3g
# Options: slow3g, fast3g, slow4g, fast4g

# Proxy
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# ==============================================
# CONFIGURATION DES FEATURES FLAGS
# ==============================================
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_BETA_FEATURES=false
FEATURE_FLAG_API_URL=

# ==============================================
# CONFIGURATION DE NOTIFICATION
# ==============================================
ENABLE_NOTIFICATIONS=false
SLACK_WEBHOOK_URL=
TEAMS_WEBHOOK_URL=
EMAIL_NOTIFICATIONS=false

# ==============================================
# CONFIGURATION DE SURVEILLANCE
# ==============================================
ENABLE_MONITORING=false
HEALTH_CHECK_INTERVAL=30000
METRICS_COLLECTION=false

# ==============================================
# CONFIGURATION AVANCÉE
# ==============================================

# Memory et performance
MAX_MEMORY_USAGE=2048
ENABLE_MEMORY_MONITORING=false

# Cache
ENABLE_CACHE=true
CACHE_TTL=3600

# Rate limiting
ENABLE_RATE_LIMITING=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# ==============================================
# CONFIGURATION LOCALE ET INTERNATIONALISATION
# ==============================================
LOCALE=fr-FR
TIMEZONE=Europe/Paris
CURRENCY=EUR
DATE_FORMAT=DD/MM/YYYY

# Langues supportées
SUPPORTED_LOCALES=fr-FR,en-US,es-ES,de-DE

# ==============================================
# CONFIGURATION DES SERVICES EXTERNES
# ==============================================

# Services de géolocalisation
GEOLOCATION_API_KEY=
GEOLOCATION_MOCK=true

# Services de paiement (pour les tests)
STRIPE_TEST_KEY=
PAYPAL_TEST_KEY=

# Services d'email (pour les tests)
MAILHOG_URL=http://localhost:8025
EMAIL_TEST_MODE=true

# ==============================================
# OVERRIDES SPÉCIFIQUES PAR APPLICATION
# ==============================================

# AI4Kids
AI4KIDS_FEATURES=basic,advanced
AI4KIDS_DEBUG=false

# MultiAI
MULTIAI_API_TIMEOUT=10000
MULTIAI_MOCK_RESPONSES=true

# BudgetCron
BUDGETCRON_BANK_API_MOCK=true
BUDGETCRON_SYNC_INTERVAL=5000

# UnitFlip
UNITFLIP_PRECISION=6
UNITFLIP_ENABLE_CUSTOM_UNITS=true

# Postmath
POSTMATH_CARRIER_API_MOCK=true
POSTMATH_CALCULATION_TIMEOUT=3000

# ==============================================
# CONFIGURATION DE DÉVELOPPEMENT
# ==============================================
DEV_MODE=false
HOT_RELOAD=false
WATCH_MODE=false
AUTO_OPEN_BROWSER=false

# ==============================================
# CONFIGURATION DE SÉCURITÉ AVANCÉE
# ==============================================
ENCRYPT_SENSITIVE_DATA=true
MASK_PERSONAL_DATA=true
ANONYMIZE_LOGS=true
SECURE_RANDOM_SEED=true

# ==============================================
# NOTES ET DOCUMENTATION
# ==============================================
# 
# Pour utiliser ce fichier :
# 1. Copiez ce fichier vers .env.test
# 2. Modifiez les valeurs selon vos besoins
# 3. Assurez-vous que .env.test est dans .gitignore
# 4. Utilisez des fichiers .env spécifiques par environnement :
#    - .env.development
#    - .env.staging  
#    - .env.production
#
# Variables prioritaires :
# 1. Variables d'environnement système
# 2. Fichier .env.local (non versionné)
# 3. Fichier .env.test
# 4. Valeurs par défaut dans le code